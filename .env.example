# Azure Updates MCP Server - Environment Configuration

# =============================================================================
# Database Configuration
# =============================================================================

# Path to the SQLite database file
# Default: ~/.azure-updates-mcp/azure-updates.db
DATABASE_PATH=./data/azure-updates.db

# =============================================================================
# Sync Configuration
# =============================================================================

# Data staleness threshold in hours
# If data is older than this, sync automatically on startup
# Default: 24 (sync once per day)
SYNC_STALENESS_HOURS=24

# Enable/disable startup sync check
# Set to 'false' to disable automatic sync completely
# Default: true
SYNC_ON_STARTUP=true

# Data retention start date (ISO 8601 format: YYYY-MM-DD)
# Only updates with modified/created date on or after this date will be retained
# Older updates are automatically filtered during sync and cleaned up on startup
# Set to empty string or omit to retain all historical data
# Default: 2022-01-01 (3 years ago from 2025)
DATA_RETENTION_START_DATE=2022-01-01

# =============================================================================
# Logging Configuration
# =============================================================================

# Log level: debug, info, warn, error
# Default: info
LOG_LEVEL=info

# Log format: json (for production), pretty (for development)
# Default: json
LOG_FORMAT=json

# =============================================================================
# Advanced Configuration (Optional)
# =============================================================================

# Sync timeout in milliseconds
# How long to wait for initial sync before marking as failed
# Default: 300000 (5 minutes)
# SYNC_TIMEOUT_MS=300000

# Request timeout for Azure API calls in milliseconds
# Default: 30000 (30 seconds)
# REQUEST_TIMEOUT_MS=30000

# =============================================================================
# Example Configurations
# =============================================================================

# Development (verbose logging, frequent sync)
# LOG_LEVEL=debug
# SYNC_STALENESS_HOURS=1
# DATABASE_PATH=./data/dev.db

# Production (efficient, daily sync)
# LOG_LEVEL=info
# LOG_FORMAT=json
# SYNC_STALENESS_HOURS=24
# DATABASE_PATH=/var/lib/azure-updates-mcp/azure-updates.db

# Manual sync only (no automatic sync)
# SYNC_ON_STARTUP=false
# DATABASE_PATH=./data/azure-updates.db
